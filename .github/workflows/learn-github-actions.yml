name: learn-github-actions

run-name: ${{ github.actor }} is learning GitHub Actions

on:
  pull_request:
    types: [opened, reopened, edited]

jobs:
  check-PR-title:
    runs-on: ubuntu-latest
    outputs:
      isDraft: ${{ steps.checkPrTitle.outputs.isDraft }}
    steps:
      - uses: actions/checkout@v4

      - id: checkPrTitle
        name: check PR title
        run: |
          title="${{ github.event.pull_request.title }}"
          draft="draft:"
          echo The Title of your PR is $title
          if [[ $title == draft:* ]]; then
            echo "It's there!"
            echo "isDraft=hello" >> "$GITHUB_OUTPUT"
          fi

  change-PR-stauss:
    runs-on: ubuntu-latest
    needs: check-PR-title
    steps:
      - name: change PR status
        run: |
          echo ${{ needs.check-PR-title.outputs.isDraft }}
